<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–¢—ñ–ª —Ç–∞“£–¥–∞“ì—ã—à–ø–µ–Ω —Ñ–æ—Ä–º–∞</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen">

  <!-- üì¶ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
  <div class="bg-white p-6 sm:p-8 rounded-2xl shadow-md max-w-md w-full mx-4 text-lg sm:text-xl">

    <!-- üî§ –¢—ñ–ª —Ç–∞“£–¥–∞“ì—ã—à -->
    <div class="absolute top-0 right-0 mt-2 mr-2 text-sm">
      <button onclick="setLanguage('kk')" class="text-blue-600 hover:underline">KAZ</button> /
      <button onclick="setLanguage('ru')" class="text-blue-600 hover:underline">RU</button>
    </div>

    <!-- üìù –§–æ—Ä–º–∞ -->
    <h2 id="welcome" class="text-2xl font-bold text-center mb-2">“ö–æ—à –∫–µ–ª–¥—ñ“£—ñ–∑!</h2>
    <p id="subtitle" class="text-sm text-center text-gray-500 mb-6">3 –∫“Ø–Ω–¥—ñ–∫ —Ç–µ–≥—ñ–Ω –∫–µ–∑–µ“£–¥—ñ –±–∞—Å—Ç–∞“£—ã–∑</p>

    <form class="space-y-4 w-full" onsubmit="return validateForm()">
      <div>
        <label id="label-phone" class="block text-sm font-medium text-gray-700 mb-1">–¢–µ–ª–µ—Ñ–æ–Ω –Ω”©–º—ñ—Ä—ñ</label>
        <input id="phone" type="tel" placeholder="+7 (777) 777 77 77" maxlength="18"
               class="w-full border border-gray-300 rounded-lg p-2 focus:ring-blue-500 focus:outline-none" value="+7 " required />
      </div>

      <div>
        <label id="label-password" class="block text-sm font-medium text-gray-700 mb-1">“ö“±–ø–∏—è—Å”©–∑</label>
        <div class="relative">
          <input id="password" type="password" placeholder=""
                 class="w-full border border-gray-300 rounded-lg p-2 pr-10 focus:ring-blue-500 focus:outline-none" required />
          <button type="button" onclick="togglePassword()" class="absolute inset-y-0 right-2 flex items-center text-gray-500">üëÅÔ∏è</button>
        </div>
        <p id="password-error" class="text-red-600 text-sm mt-1 hidden">
          “ö“±–ø–∏—è—Å”©–∑ –∫–µ–º—ñ–Ω–¥–µ 6 —Ç–∞“£–±–∞–¥–∞–Ω —Ç“±—Ä—É—ã –∂”ô–Ω–µ ”ô—Ä—ñ–ø –ø–µ–Ω —Å–∞–Ω –±–æ–ª—É—ã –∫–µ—Ä–µ–∫.
        </p>
      </div>

      <button id="login-button" type="submit" class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700">–ö—ñ—Ä—É</button>
    </form>

    <div id="forgot" class="text-sm text-center mt-4 text-blue-600 hover:underline cursor-pointer">“ö“±–ø–∏—è—Å”©–∑–¥—ñ “±–º—ã—Ç—Ç—ã“£—ã–∑ –±–∞?</div>
    <div class="text-sm text-center mt-2">
      <span id="no-account">–ê–∫–∫–∞—É–Ω—Ç –∂–æ“õ –ø–∞?</span>
      <a href="register" class="text-blue-600 hover:underline" id="register-link">–¢—ñ—Ä–∫–µ–ª—É</a>
    </div>
  </div>

  <script>
    const texts = {
      kk: {
        welcome: "“ö–æ—à –∫–µ–ª–¥—ñ“£—ñ–∑!",
        subtitle: "3 –∫“Ø–Ω–¥—ñ–∫ —Ç–µ–≥—ñ–Ω –∫–µ–∑–µ“£–¥—ñ –±–∞—Å—Ç–∞“£—ã–∑",
        "label-phone": "–¢–µ–ª–µ—Ñ–æ–Ω –Ω”©–º—ñ—Ä—ñ",
        "label-password": "“ö“±–ø–∏—è—Å”©–∑",
        "password-error": "“ö“±–ø–∏—è—Å”©–∑ –∫–µ–º—ñ–Ω–¥–µ 6 —Ç–∞“£–±–∞–¥–∞–Ω —Ç“±—Ä—É—ã –∂”ô–Ω–µ ”ô—Ä—ñ–ø –ø–µ–Ω —Å–∞–Ω –±–æ–ª—É—ã –∫–µ—Ä–µ–∫.",
        "login-button": "–ö—ñ—Ä—É",
        forgot: "“ö“±–ø–∏—è—Å”©–∑–¥—ñ “±–º—ã—Ç—Ç—ã“£—ã–∑ –±–∞?",
        "no-account": "–ê–∫–∫–∞—É–Ω—Ç –∂–æ“õ –ø–∞?",
        "register-link": "–¢—ñ—Ä–∫–µ–ª—É"
      },
      ru: {
        welcome: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!",
        subtitle: "–ù–∞—á–Ω–∏—Ç–µ 3-–¥–Ω–µ–≤–Ω—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥",
        "label-phone": "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞",
        "label-password": "–ü–∞—Ä–æ–ª—å",
        "password-error": "–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤, –±—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã.",
        "login-button": "–í–æ–π—Ç–∏",
        forgot: "–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?",
        "no-account": "–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞?",
        "register-link": "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"
      }
    };

    function setLanguage(lang) {
      for (const key in texts[lang]) {
        const el = document.getElementById(key);
        if (el) el.innerText = texts[lang][key];
      }
      localStorage.setItem('lang', lang);
    }

    function togglePassword() {
      const passwordInput = document.getElementById('password');
      passwordInput.type = passwordInput.type === 'password' ? 'text' : 'password';
    }

    function validateForm() {
      const passwordInput = document.getElementById('password');
      const passwordError = document.getElementById('password-error');
      const password = passwordInput.value;

      const isValid = /^[A-Za-z0-9]+$/.test(password) &&
                      /[A-Za-z]/.test(password) &&
                      /\d/.test(password) &&
                      password.length >= 6;

      if (!isValid) {
        passwordError.classList.remove('hidden');
        return false;
      } else {
        passwordError.classList.add('hidden');
        return true;
      }
    }

    // ‚úÖ –¢–µ–ª–µ—Ñ–æ–Ω –Ω–æ–º–µ—Ä—ñ —à–µ–∫—Ç–µ—É –∂”ô–Ω–µ –∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç
    document.getElementById("phone").addEventListener("input", function () {
      let digits = this.value.replace(/\D/g, '');
      if (digits.startsWith('7')) digits = digits.slice(1);
      if (digits.length > 10) digits = digits.slice(0, 10);

      let formatted = '+7';
      if (digits.length > 0) formatted += ' (' + digits.slice(0, 3);
      if (digits.length >= 3) formatted += ') ' + digits.slice(3, 6);
      if (digits.length >= 6) formatted += ' ' + digits.slice(6, 8);
      if (digits.length >= 8) formatted += ' ' + digits.slice(8, 10);

      this.value = formatted;
    });

    window.onload = () => {
      const lang = localStorage.getItem("lang") || "kk";
      setLanguage(lang);
    };
  </script>
</body>
</html>
